(this.webpackJsonpemployeedir=this.webpackJsonpemployeedir||[]).push([[0],{112:function(e,a,t){"use strict";t.r(a);var n=t(2),i=t(0),o=t.n(i),l=t(10),c=t.n(l),r=(t(85),t(13)),d=(t(86),t(153)),s=t(160),p=t(146),m=t(161),j=t(163),h=t(155),b=t(164),u=t(162),g=t(159),O=t(156),x=t(157),f=t(158),y=t(167),v=t(148),N=t(149),C=t(150),k=t(151),w=t(165),D=t(152),S=t(18),P=t.n(S),E=t(143),z=Object(E.a)((function(e){return{root:{maxWidth:"100%"},main:{display:"flex",flexDirection:"column",justifyContent:"space-between",padding:"10px"},media:{height:0,paddingTop:"56.25%"},cardActionS:{dispaly:"flex",justifyContent:"flex-end"},cardContent:{display:"flex",justifyContent:"space-between"},addDiv:{margin:"10px",alignSelf:"flex-end"},updateForm:{padding:e.spacing(3)},updateFormInput:{margin:e.spacing(1)},form:{display:"flex",flexDirection:"column",margin:"auto",width:"80%"},addpopup:{marginTop:e.spacing(2),minWidth:120},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:200},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},table:{minWidth:650,fontWeight:700,backgroundColor:"#f4f5db"},table_head:{backgroundColor:e.palette.common.black,color:e.palette.common.white,fontWeight:700,fontSize:"17px"},table_body:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover},fontSize:14,fontWeight:"bold"}}}));var A=function(e){var a=e.title,t=e.openPopup,o=e.setOpenPopup,l=e.empid,c=e.data,s=Object(i.useState)({department:"",designation:"",empemail:"",employeeph:""}),p=Object(r.a)(s,2),m=p[0],j=p[1],h=Object(i.useState)(""),b=Object(r.a)(h,2),u=b[0],g=b[1],O=z();Object(i.useEffect)((function(){j(c)}),[c]);var x=function(){g(""),o(!1)},f=function(e){var a=e.target.value,t=e.target.name;j((function(e){return"dept"===t?{department:a,designation:e.designation,empemail:e.empemail,employeeph:e.employeeph}:"desg"===t?{department:e.department,designation:a,empemail:e.empemail,employeeph:e.employeeph}:"email"===t?{department:e.department,designation:e.designation,empemail:a,employeeph:e.employeeph}:"phno"===t?{department:e.department,designation:e.designation,empemail:e.empemail,employeeph:a}:void 0}))};return Object(n.jsxs)(y.a,{open:t,onClose:x,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(n.jsx)(v.a,{id:"alert-dialog-title",children:a}),Object(n.jsx)(N.a,{children:Object(n.jsx)(C.a,{children:Object(n.jsxs)(k.a,{className:O.updateForm,children:[""!==u?Object(n.jsxs)("span",{style:{fontSize:"0.8em",display:"block",color:"red"},children:["!",u]}):Object(n.jsxs)("span",{style:{fontSize:"0.8em",display:"none",color:"red"},children:["!",u]}),Object(n.jsx)(w.a,{variant:"outlined",label:"Department",value:m.department,onChange:f,className:O.updateFormInput,name:"dept"}),Object(n.jsx)(w.a,{variant:"outlined",label:"Designation",value:m.designation,onChange:f,className:O.updateFormInput,name:"desg"}),Object(n.jsx)(w.a,{variant:"outlined",label:"Email Id",className:O.updateFormInput,value:m.empemail,onChange:f,name:"email"}),Object(n.jsx)(w.a,{variant:"outlined",label:"Phone Number",className:O.updateFormInput,value:m.employeeph,onChange:f,name:"phno"})]})})}),Object(n.jsxs)(D.a,{children:[Object(n.jsx)(d.a,{onClick:x,color:"primary",name:"no",children:"Cancel"}),Object(n.jsx)(d.a,{onClick:function(){var e=JSON.stringify(m);(function(){var e=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/,a=/^\d{10}$/,t=m.employeeph+"";if(""===m.department||""===m.designation||""===m.empemail||""===m.employeeph)return g("All fields are required..."),!1;if(!m.empemail.match(e))return g("Please enter correct email id..."),!1;if(!t.match(a))return g("Please enter correct phonenumber..."),!1;return!0})()&&function(e){P.a.post(e).then((function(e){console.log(e),o(!1),window.location.reload()})).catch((function(e){console.log(e)}))}("https://employeedirectorybackend.herokuapp.com/UpdateEmployee.php?data="+e+"&empid="+l)},color:"primary",autoFocus:!0,name:"yes",children:"Update"})]})]})},_=t(154);var F=function(e){var a=e.title,t=e.openPopup,i=e.setOpenPopup,o=e.empid,l=function(){i(!1),console.log("no")},c="https://employeedirectorybackend.herokuapp.com/DeleteEmployee.php?empid=";return Object(n.jsxs)(y.a,{open:t,onClose:l,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(n.jsx)(v.a,{id:"alert-dialog-title",children:a}),Object(n.jsx)(N.a,{children:Object(n.jsx)(_.a,{id:"alert-dialog-description",children:"Are you sure you want to Delete? Once Deleted can not be revert!!!"})}),Object(n.jsxs)(D.a,{children:[Object(n.jsx)(d.a,{onClick:l,color:"primary",name:"no",children:"Cancel"}),Object(n.jsx)(d.a,{onClick:function(){i(!1),console.log("yess"),function(e){P.a.get(e).then((function(e){window.location.reload()})).catch((function(e){console.log(e)}))}(c+o)},color:"primary",autoFocus:!0,name:"yes",children:"Delete"})]})]})};var I=function(e){var a=e.employee,t=o.a.useState(!1),l=Object(r.a)(t,2),c=l[0],d=l[1],s=o.a.useState(!1),m=Object(r.a)(s,2),j=m[0],b=m[1],u=Object(i.useState)({department:"",designation:"",empemail:"",employeeph:""}),g=Object(r.a)(u,2),y=g[0],v=g[1],N="https://employeedirectorybackend.herokuapp.com/GetUpdateEmployee.php?empid=";return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(h.a,{component:"th",scope:"row",children:a.empid}),Object(n.jsx)(h.a,{align:"right",children:a.empname}),Object(n.jsx)(h.a,{align:"right",children:a.empemail}),Object(n.jsx)(h.a,{align:"right",children:a.employeeph}),Object(n.jsx)(h.a,{align:"right",children:a.designation}),Object(n.jsx)(h.a,{align:"right",children:a.department}),Object(n.jsx)(h.a,{align:"right",children:a.joiningdate}),Object(n.jsx)(h.a,{align:"right",children:Object(n.jsx)(O.a,{"aria-label":"Edit",onClick:function(){var e;e=N+a.empid,console.log(e),P.a.get(e).then((function(e){v(e.data[0]),b(!0)})).catch((function(e){console.log(e)}))},children:Object(n.jsx)(x.a,{style:{color:"#09015f"}})})}),Object(n.jsx)(h.a,{align:"right",children:Object(n.jsx)(O.a,{"aria-label":"Delete",onClick:function(){d(!0)},children:Object(n.jsx)(f.a,{style:{color:"red"}})})}),Object(n.jsxs)(h.a,{align:"right",children:[Object(n.jsx)(F,{openPopup:c,setOpenPopup:d,empid:a.empid,title:"Are you sure??"}),Object(n.jsx)(p.a,{children:Object(n.jsx)(A,{openPopup:j,setOpenPopup:b,empid:a.empid,title:"Are you sure??",data:y})})]})]})},W=t(70),J=t(68),Z=t.n(J);var $=function(e){var a=z(),t=e.title,i=e.children,o=e.openPopup,l=e.setOpenPopup;return Object(n.jsxs)(y.a,{open:o,maxWidth:"md",fullWidth:!0,children:[Object(n.jsx)(v.a,{children:Object(n.jsxs)("div",{className:a.addpopup,style:{display:"flex",flexDirection:"row",alignItems:"flex-end",justifyContent:"space-between"},children:[Object(n.jsx)(W.a,{variant:"h6",component:"div",style:{flexGrow:1},children:t}),Object(n.jsx)(Z.a,{style:{color:"red",fontSize:"40"},onClick:function(){l(!1)}})]})}),Object(n.jsx)(N.a,{dividers:!0,children:i})]})};var U=function(e){var a=z(),t=Object(i.useState)({empid:"",empname:"",department:"",designation:"",empemail:"",employeeph:"",joiningdate:"2020-01-24"}),l=Object(r.a)(t,2),c=l[0],s=l[1],p=o.a.useState(!1),m=Object(r.a)(p,2),j=m[0],h=m[1],b=function(){h(!1),window.location.reload()},u=function(e){var a=e.target.value,t=e.target.name;s((function(e){return"empid"===t?{empid:a,empname:e.empname,department:e.department,designation:e.designation,empemail:e.empemail,employeeph:e.employeeph,joiningdate:e.joiningdate}:"joiningdate"===t?{empid:e.empid,empname:e.empname,department:e.department,designation:e.designation,empemail:e.empemail,employeeph:e.employeeph,joiningdate:a}:"empname"===t?{empid:e.empid,empname:a,department:e.department,designation:e.designation,empemail:e.empemail,employeeph:e.employeeph,joiningdate:e.joiningdate}:"dept"===t?{empid:e.empid,empname:e.empname,joiningdate:e.joiningdate,department:a,designation:e.designation,empemail:e.empemail,employeeph:e.employeeph}:"desg"===t?{empid:e.empid,empname:e.empname,joiningdate:e.joiningdate,department:e.department,designation:a,empemail:e.empemail,employeeph:e.employeeph}:"email"===t?{empid:e.empid,empname:e.empname,joiningdate:e.joiningdate,department:e.department,designation:e.designation,empemail:a,employeeph:e.employeeph}:"phno"===t?{empid:e.empid,empname:e.empname,joiningdate:e.joiningdate,department:e.department,designation:e.designation,empemail:e.empemail,employeeph:a}:void 0}))},g=Object(i.useState)(""),O=Object(r.a)(g,2),x=O[0],f=O[1],C="https://employeedirectorybackend.herokuapp.com/CreateEmployee.php?data=";return Object(n.jsxs)("div",{children:[Object(n.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),function(){var e=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/,a=/^\d{10}$/,t=c.employeeph+"";if(""===c.department||""===c.designation||""===c.empemail||""===c.employeeph||""===c.empname||""===c.empid)return f("All fields are required..."),!1;if(!c.empemail.match(e))return f("Please enter correct email id..."),!1;if(!t.match(a))return f("Please enter correct phonenumber..."),!1;return f(""),!0}()){console.log("form to be submitted");var a=JSON.stringify(c);!function(e){P.a.post(e).then((function(e){console.log(e.data.message),"sucess"!==e.data.message?(console.log(e.data),f(e.data.message)):h(!0)})).catch((function(e){console.log(e)}))}(C+a)}},className:a.form,children:[Object(n.jsx)("div",{className:"form-group",children:Object(n.jsx)(w.a,{type:"text",className:"form-control",id:"empid",label:"Employee ID",name:"empid",onChange:u})}),Object(n.jsx)("div",{className:"form-group",children:Object(n.jsx)(w.a,{type:"text",className:"form-control",id:"name",label:"Name",name:"empname",onChange:u})}),Object(n.jsx)("div",{className:"form-group",children:Object(n.jsx)(w.a,{type:"text",className:"form-control",id:"email",label:"Email",name:"email",onChange:u})}),Object(n.jsx)("div",{className:"form-group",children:Object(n.jsx)(w.a,{type:"text",className:"form-control",id:"phone",label:"Mobile Number",name:"phno",onChange:u})}),Object(n.jsx)("div",{className:"form-group",children:Object(n.jsx)(w.a,{type:"text",className:"form-control",id:"department",label:"Department",name:"dept",onChange:u})}),Object(n.jsx)("div",{className:"form-group",children:Object(n.jsx)(w.a,{type:"text",className:"form-control",id:"designation",label:"Designation",name:"desg",onChange:u})}),Object(n.jsx)("div",{className:"form-group",children:Object(n.jsx)(w.a,{id:"date",label:"Date of Joining",type:"date",defaultValue:"2020-01-24",className:a.textField,InputLabelProps:{shrink:!0},name:"joiningdate",onChange:u})}),Object(n.jsx)("div",{className:"form-row",children:Object(n.jsx)("div",{className:"form-group col-md-6",children:Object(n.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Add"})})}),""!==x?Object(n.jsx)("span",{style:{fontSize:"1em",display:"block",color:"red"},children:x}):Object(n.jsxs)("span",{style:{fontSize:"0.8em",display:"none",color:"red"},children:["!",x]})]}),Object(n.jsxs)(y.a,{onClose:b,"aria-labelledby":"customized-dialog-title",open:j,children:[Object(n.jsx)(v.a,{id:"customized-dialog-title",children:"Employee Has been added"}),Object(n.jsx)(N.a,{dividers:!0,children:Object(n.jsx)(W.a,{gutterBottom:!0,children:"Employee has been added sucessfully..."})}),Object(n.jsx)(D.a,{children:Object(n.jsx)(d.a,{autoFocus:!0,onClick:b,color:"primary",children:"Ok"})})]})]})};var B=function(e){var a=e.data,t=z(),o=Object(i.useState)(!1),l=Object(r.a)(o,2),c=l[0],O=l[1];return Object(n.jsxs)("main",{className:t.main,children:[Object(n.jsx)("div",{className:t.addDiv,children:Object(n.jsx)(d.a,{variant:"contained",color:"primary",startIcon:Object(n.jsx)(g.a,{}),onClick:function(){O(!0)},style:{backgroundColor:"#fcd1d1",color:"black",border:"1px soild black"},children:"Add Employee"})}),Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(s.a,{component:p.a,children:Object(n.jsxs)(m.a,{className:t.table,children:[Object(n.jsx)(u.a,{children:Object(n.jsxs)(j.a,{children:[Object(n.jsx)(h.a,{className:t.table_head,children:"Employee Id"}),Object(n.jsx)(h.a,{className:t.table_head,align:"center",children:"Employee Name"}),Object(n.jsx)(h.a,{className:t.table_head,align:"center",children:"Email"}),Object(n.jsx)(h.a,{className:t.table_head,align:"center",children:"Phone Number"}),Object(n.jsx)(h.a,{className:t.table_head,align:"center",children:"Designation"}),Object(n.jsx)(h.a,{className:t.table_head,align:"center",children:"Department"}),Object(n.jsx)(h.a,{className:t.table_head,align:"center",children:"Joining Date"}),Object(n.jsx)(h.a,{className:t.table_head,align:"center",children:"Update"}),Object(n.jsx)(h.a,{className:t.table_head,align:"center",children:"Delete"}),Object(n.jsx)(h.a,{className:t.table_head,align:"center"})]})}),Object(n.jsx)(b.a,{style:{width:"100%"},children:a.map((function(e){return Object(n.jsx)(j.a,{className:t.table_body,children:Object(n.jsx)(I,{employee:e})},e.empid)}))})]})})}),Object(n.jsx)($,{openPopup:c,setOpenPopup:O,title:"Add new employee",children:Object(n.jsx)(U,{})})]})};var q=function(){var e=Object(i.useState)({loading:!1,repos:[]}),a=Object(r.a)(e,2),t=a[0],o=a[1],l="https://employeedirectorybackend.herokuapp.com/EmployeeData.php";return Object(i.useEffect)((function(){o({loading:!0}),fetch(l).then((function(e){return e.json()})).then((function(e){o({loading:!1,repos:e})}))}),[o,l]),!0===t.loading?Object(n.jsx)("p",{children:"Please wait"}):Object(n.jsx)("div",{children:Object(n.jsx)(B,{data:t.repos})})};c.a.render(Object(n.jsx)(q,{}),document.getElementById("root"))},85:function(e,a,t){},86:function(e,a,t){}},[[112,1,2]]]);
//# sourceMappingURL=main.298fa3a2.chunk.js.map